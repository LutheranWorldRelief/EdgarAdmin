<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.7/css/select2.min.css" rel="stylesheet" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.7/js/select2.min.js"></script>
<br><br>
<div class="row">
	<div class="container">
		<div class="edgar-container">
			<div style="padding: 30px;">
				<div class="accordion" id="accordion_assignations">
					<% @tecnhicals.each do |tec| %>
					<div class="card">
				    <div class="card-header" id="headingOne">
				      <h2 class="mb-0">
				        <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#<%= "#{tec.username.parameterize}_#{tec.id}" %>" aria-expanded="false" aria-controls="<%= "#{tec.username.parameterize}_#{tec.id}" %>">
				          <b><%= tec.username %></b> <small>Chats asignados (<%= UserChat.where(user_technical: tec.id).size %>)</small>
				        </button>
				      </h2>
				    </div>
				    <div id="<%= "#{tec.username.parameterize}_#{tec.id}" %>" class="collapse" aria-labelledby="headingOne" data-parent="#accordion_assignations">
				      <div class="card-body">
				        <% if UserChat.where(user_technical: tec.id).size > 0 %>
				        	<%= render partial: "admin/assignations/partials/producers", locals: { tec: tec } %>
				        <% else %>
				        <div class="alert alert-light" role="alert">
				        	No hay chats asignados a este tecnico
				        </div>
				        <% end %>
				      </div>
				    </div>
				  </div>
					<% end %>
				</div>
			</div>
			<br>
		</div>
	</div>
</div>
<style>
	.btn-link{
		color: #333;
	}
	.chosen-container.chosen-container-single{
		width: 100% !important;
	}
	.select2-results__option.select2-results__option--highlighted{
		color: #816144 !important;
		background-color: #ccc !important;
	}
	.select2-container{
		background-color: #fff !important;
		border: 1px solid #ccc !important;
		border-radius: 5px !important;
	}
</style>
<script>
	$(".chosen").select2();
</script>